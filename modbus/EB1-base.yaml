# /config/files/modbus.yaml
# edpbox1

#modbus:
  - name: edpbox1
    type: tcp
    host: 10.3.0.223
    port: 9988
    timeout: 9
    retries: 9
    retry_on_empty: false # bug?

    sensors:

# for use in templates

      - name: "EB1 0x0001" # Clock
        slave: 1
        address: 1
        input_type: input
        count: 1
        data_type: custom
        register_size: 12
        structure: ">H7BhB"
        scan_interval: 21

      - name: "EB1 0x006C" # V/A
        slave: 1
        address: 108
        input_type: input
        count: 2
        data_type: custom
        structure: ">2H"
        scan_interval: 22

      - name: "EB1 0x0079" # Power
        slave: 1
        address: 121
        input_type: input
        count: 2
        data_type: custom
        register_size: 4
        structure: ">2L"
        scan_interval: 23

      - name: "EB1 0x007B" # PF
        slave: 1
        address: 123
        input_type: input
        count: 1
        data_type: uint
        scan_interval: 24

      - name: "EB1 0x007F" # Freq
        slave: 1
        address: 127
        input_type: input
        count: 1
        data_type: uint
        scan_interval: 25

      - name: "EB1 0x0026" # TotEneTariff
        slave: 1
        address: 38
        input_type: input
        count: 3
        data_type: custom
        register_size: 4
        structure: ">3L"
        scan_interval: 26

      - name: "EB1 0x0016" # TotEne I/E/Q
        slave: 1
        address: 22
        input_type: input
        count: 6
        data_type: custom
        register_size: 4
        structure: ">6L"
        scan_interval: 27

      - name: "EB1 0x000B" # Tariff
        slave: 1
        address: 11
        input_type: input
        count: 1
        data_type: custom
        structure: ">Bx"
        scan_interval: 28

# full sensor

      - name: "EB1 Firmware Core"
        slave: 1
        address: 4
        input_type: input
        count: 1
        data_type: string
        scan_interval: 901

      - name: "EB1 Firmware App"
        slave: 1
        address: 5
        input_type: input
        count: 1
        data_type: string
        scan_interval: 902

      - name: "EB1 Firmware Com"
        slave: 1
        address: 6
        input_type: input
        count: 1
        data_type: string
        scan_interval: 903

# EOF
