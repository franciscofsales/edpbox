# /config/files/modbus.yaml
# edpbox1 custom

#modbus:

  - name: edpbox1
    type: tcp
    host: 10.3.0.223
    port: 9988
    timeout: 3
    retries: 9
    retry_on_empty: true
    #message_wait_milliseconds: 100

    sensors:

      - name: "EB1 0x0001" # Clock
        slave: 1
        address: 1
        input_type: input
        count: 1
        data_type: custom
        register_size: 12
        structure: ">H7BhB"
        scan_interval: 5

      - name: "EB1 0x000B" # Tariff
        slave: 1
        address: 11
        input_type: input
        count: 1
        data_type: custom
        structure: ">Bx"
        scan_interval: 5

      - name: "EB1 0x006C" # V/A
        slave: 1
        address: 108
        input_type: input
        count: 2
        data_type: custom
        structure: ">2H"
        scan_interval: 10

      - name: "EB1 0x0079" # Power
        slave: 1
        address: 121
        input_type: input
        count: 2
        data_type: custom
        register_size: 4
        structure: ">2L"
        scan_interval: 10

      - name: "EB1 0x007B" # PF
        slave: 1
        address: 123
        input_type: input
        count: 1
        data_type: uint16
        scan_interval: 10

      - name: "EB1 0x007F" # Freq
        slave: 1
        address: 127
        input_type: input
        count: 1
        data_type: uint16
        scan_interval: 10

      - name: "EB1 0x0026" # TotEneTariff
        slave: 1
        address: 38
        input_type: input
        count: 3
        data_type: custom
        register_size: 4
        structure: ">3L"
        scan_interval: 30

      - name: "EB1 0x0016" # TotEne I/E/Q
        slave: 1
        address: 22
        input_type: input
        count: 2
        data_type: custom
        register_size: 4
        structure: ">2L"
        scan_interval: 30

# EOF
