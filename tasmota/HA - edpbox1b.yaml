# edpbox1b

  - platform: mqtt
    name: "EB1 Active Power"
    unique_id: ebpowerp1
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.ActPow|int }}
    unit_of_measurement: "W"
    device_class: power
    expire_after: 30

  - platform: mqtt
    name: "EB1 Active Power L1"
    unique_id: ebpowerl1
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.ActPowL1|int }}
    unit_of_measurement: "W"
    device_class: power
    expire_after: 30

  - platform: mqtt
    name: "EB1 Active Power L2"
    unique_id: ebpowerl2
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.ActPowL2|int }}
    unit_of_measurement: "W"
    device_class: power
    expire_after: 30

  - platform: mqtt
    name: "EB1 Active Power L3"
    unique_id: ebpowerl3
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.ActPowL3|int }}
    unit_of_measurement: "W"
    device_class: power
    expire_after: 30

  - platform: mqtt
    name: "EB1 Frequency"
    unique_id: ebfreq
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.Frequency|float }}
    unit_of_measurement: "Hz"
    icon: mdi:pulse

  - platform: mqtt
    name: "EB1 Total Energy T1 Vazio"
    unique_id: ebenergy1
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.TotEneT1|float }}
    unit_of_measurement: "kWh"
    icon: mdi:transmission-tower
   
  - platform: mqtt
    name: "EB1 Total Energy T2 Ponta"
    unique_id: ebenergy2
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.TotEneT2|float }}
    unit_of_measurement: "kWh"
    icon: mdi:transmission-tower
    
  - platform: mqtt
    name: "EB1 Total Energy T3 Cheia"
    unique_id: ebenergy3
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.TotEneT3|float }}
    unit_of_measurement: "kWh"
    icon: mdi:transmission-tower

  - platform: mqtt
    name: "EB1 Total Energy Import"
    unique_id: ebenergysum
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.TotEneImp|float }}
    unit_of_measurement: "kWh"
    device_class: energy

  - platform: mqtt
    name: "EB1 Total Energy Export"
    unique_id: ebenergyexport
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.TotEneExp|float }}
    unit_of_measurement: "kWh"
    device_class: energy

  - platform: mqtt
    name: "EB1 Total Energy Q1"
    unique_id: ebenergyq1
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.TotEneQ1|float }}
    unit_of_measurement: "kVAr"
    device_class: energy

  - platform: mqtt
    name: "EB1 Total Energy Q4"
    unique_id: ebenergyq4
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.TotEneQ4|float }}
    unit_of_measurement: "kVAr"
    device_class: energy

  - platform: mqtt
    name: "EB1 Tariff"
    unique_id: eb1tariff
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.Tariff|int }}
    unit_of_measurement: ""
    icon: 'mdi:counter'
    
  - platform: mqtt
    name: "EB1 DCP"
    unique_id: eb1dcp
    state_topic: "tele/edpbox1/SENSOR"
    value_template: >-
        {{ value_json.EB1.DCP|int }}
    unit_of_measurement: ""
    icon: 'mdi:cog-refresh'

###
##
#
